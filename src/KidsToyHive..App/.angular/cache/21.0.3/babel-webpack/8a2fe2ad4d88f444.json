{"ast":null,"code":"import { Subject } from 'rxjs';\nimport { ProductService } from '../../core';\nimport { baseUrl, LocalStorageService } from '../../core';\nimport { Router } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../core\";\nimport * as i2 from \"@angular/router\";\nfunction ToysPage_kth_toy_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵdomElementStart(0, \"kth-toy\", 1);\n    i0.ɵɵdomListener(\"callToActionClick\", function ToysPage_kth_toy_0_Template_kth_toy_callToActionClick_0_listener() {\n      const toy_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onGetItNowClick(toy_r2));\n    });\n    i0.ɵɵdomElementEnd();\n  }\n  if (rf & 2) {\n    const toy_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵdomProperty(\"title\", toy_r2.name)(\"imageUrl\", ctx_r2.buildImageUrl(toy_r2))(\"callToActionText\", \"Rent It Now!\");\n  }\n}\nexport let ToysPage = /*#__PURE__*/(() => {\n  class ToysPage {\n    constructor(_baseUrl, _localStorageService, _productService, _router) {\n      this._baseUrl = _baseUrl;\n      this._localStorageService = _localStorageService;\n      this._productService = _productService;\n      this._router = _router;\n      this.onDestroy = new Subject();\n    }\n    ngOnInit() {\n      this.toys$ = this._productService.get();\n    }\n    onGetItNowClick(toy) {\n      this._localStorageService.put({\n        name: 'productId',\n        value: toy.productId\n      });\n      this._router.navigateByUrl('/order');\n    }\n    buildImageUrl(toy) {\n      return `${this._baseUrl}${toy.productImages[0].url}`;\n    }\n    ngOnDestroy() {\n      this.onDestroy.next();\n    }\n    static {\n      this.ɵfac = function ToysPage_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ToysPage)(i0.ɵɵdirectiveInject(baseUrl), i0.ɵɵdirectiveInject(i1.LocalStorageService), i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ToysPage,\n        selectors: [[\"kth-toys-page\"]],\n        decls: 2,\n        vars: 3,\n        consts: [[3, \"title\", \"imageUrl\", \"callToActionText\", \"callToActionClick\", 4, \"ngFor\", \"ngForOf\"], [3, \"callToActionClick\", \"title\", \"imageUrl\", \"callToActionText\"]],\n        template: function ToysPage_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵdomTemplate(0, ToysPage_kth_toy_0_Template, 1, 3, \"kth-toy\", 0);\n            i0.ɵɵpipe(1, \"async\");\n          }\n          if (rf & 2) {\n            i0.ɵɵdomProperty(\"ngForOf\", i0.ɵɵpipeBind1(1, 1, ctx.toys$));\n          }\n        },\n        styles: [\"[_nghost-%COMP%]{display:block;padding:20px}\"]\n      });\n    }\n  }\n  return ToysPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}