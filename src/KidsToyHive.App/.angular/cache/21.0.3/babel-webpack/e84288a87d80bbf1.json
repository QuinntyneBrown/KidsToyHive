{"ast":null,"code":"// Copyright (c) Quinntyne Brown. All Rights Reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nvar _a, _b;\nimport { __decorate, __metadata, __param } from \"tslib\";\nimport { Component, Inject } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { BookingService, AuthService } from '../../core';\nimport { takeUntil, map } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { baseUrl } from '../../core';\nlet MyProfilePage = class MyProfilePage {\n  constructor(_baseUrl, _authService, _bookingService, _router) {\n    this._baseUrl = _baseUrl;\n    this._authService = _authService;\n    this._bookingService = _bookingService;\n    this._router = _router;\n    this.onDestroy = new Subject();\n  }\n  ngOnInit() {\n    this.bookings$ = this._bookingService.getMy().pipe(map(x => {\n      return x;\n    }));\n    this._authService.isAuthenticatedChanged$.pipe(takeUntil(this.onDestroy), map(x => {\n      if (!x) {\n        this._router.navigateByUrl('toys');\n      }\n    })).subscribe();\n  }\n  ngOnDestroy() {\n    this.onDestroy.next();\n  }\n};\nMyProfilePage = __decorate([Component({\n  standalone: true,\n  templateUrl: './my-profile-page.html',\n  styleUrls: ['./my-profile-page.scss'],\n  selector: 'kth-my-profile-page'\n}), __param(0, Inject(baseUrl)), __metadata(\"design:paramtypes\", [String, typeof (_a = typeof AuthService !== \"undefined\" && AuthService) === \"function\" ? _a : Object, typeof (_b = typeof BookingService !== \"undefined\" && BookingService) === \"function\" ? _b : Object, Router])], MyProfilePage);\nexport { MyProfilePage };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}